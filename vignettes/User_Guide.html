<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Sheeja Manchira Krishnan" />

<meta name="date" content="2021-02-04" />

<title>User Guide</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>
<style type="text/css">
a.anchor-section {margin-left: 10px; visibility: hidden; color: inherit;}
a.anchor-section::before {content: '#';}
.hasAnchor:hover a.anchor-section {visibility: visible;}
</style>
<script>// Anchor sections v1.0 written by Atsushi Yasumoto on Oct 3rd, 2020.
document.addEventListener('DOMContentLoaded', function() {
  // Do nothing if AnchorJS is used
  if (typeof window.anchors === 'object' && anchors.hasOwnProperty('hasAnchorJSLink')) {
    return;
  }

  const h = document.querySelectorAll('h1, h2, h3, h4, h5, h6');

  // Do nothing if sections are already anchored
  if (Array.from(h).some(x => x.classList.contains('hasAnchor'))) {
    return null;
  }

  // Use section id when pandoc runs with --section-divs
  const section_id = function(x) {
    return ((x.classList.contains('section') || (x.tagName === 'SECTION'))
            ? x.id : '');
  };

  // Add anchors
  h.forEach(function(x) {
    const id = x.id || section_id(x.parentElement);
    if (id === '') {
      return null;
    }
    let anchor = document.createElement('a');
    anchor.href = '#' + id;
    anchor.classList = ['anchor-section'];
    x.classList.add('hasAnchor');
    x.appendChild(anchor);
  });
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">User Guide</h1>
<h4 class="author">Sheeja Manchira Krishnan</h4>
<h4 class="date">2021-02-04</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(IPDFileCheck)</span></code></pre></div>
<div id="ipdfilecheck" class="section level2">
<h2>IPDFileCheck</h2>
<p>IPDFileCheck is a package that can be used to check the data file from a randomised clinical trial (RCT). The standard checks on data file from RCT will be of the following 1. To check the file exists and readable 2. To check if the column exists, 3. To get the column number if the column name is known, 4. To test column contents ie do they contain specific items in a given list? 5. To test column names of a data being different from what specified, 6. To check the format of column ‘age’ in data 7. To check the format of column ‘gender’ in data 8. To check the format of column contents -numeric or string 9. To check the format of a numeric column 10. To return the column number if the pattern is contained in the colnames of a data 11. To return descriptive statistics, sum, no of observations, mean, mode. median, range, standard deviation and standard error 12. To present the mean and sd of a data set in the form Mean (SD) 13. To return a subgroup when certain variable equals the given value while omitting those with NA 14. To estimate standard error of the mean and the mode 15. To find the number and percentages of categories 16. To represent categorical data in the form - numbers (percentage) 17. To calculate age from date of birth and year of birth</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>For demonstration purposes, two simulated data sets (one with valid data and another with invalid data) representing treatment and control arm of randomised controlled trial will be used.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a> <span class="kw">set.seed</span>(<span class="dv">17</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a> rctdata &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">age =</span> <span class="kw">abs</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">60</span>, <span class="dv">20</span>)),</span>
<span id="cb2-3"><a href="#cb2-3"></a>                           <span class="dt">sex =</span> <span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>),</span>
<span id="cb2-4"><a href="#cb2-4"></a>                           <span class="dt">yob =</span> <span class="kw">sample</span>(<span class="kw">seq</span>(<span class="dv">1930</span>,<span class="dv">2000</span>), <span class="dv">10</span>, <span class="dt">replace =</span> T),</span>
<span id="cb2-5"><a href="#cb2-5"></a>                           <span class="dt">dob =</span> <span class="kw">c</span>(<span class="st">&quot;07/12/1969&quot;</span>,<span class="st">&quot;16/02/1962&quot;</span>,<span class="st">&quot;03/09/1978&quot;</span>,<span class="st">&quot;17/02/1969&quot;</span>,                                      <span class="st">&quot;25/11/1960&quot;</span>,<span class="st">&quot;17/04/1970&quot;</span>,<span class="st">&quot;18/03/1997&quot;</span>,<span class="st">&quot;30/01/1988&quot;</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>                                               <span class="st">&quot;03/02/1990&quot;</span>,<span class="st">&quot;25/09/1978&quot;</span>),</span>
<span id="cb2-7"><a href="#cb2-7"></a>                           <span class="dt">arm =</span> <span class="kw">c</span>(<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>),<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb2-8"><a href="#cb2-8"></a> </span>
<span id="cb2-9"><a href="#cb2-9"></a>rctdata_error &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">age =</span> <span class="kw">runif</span>(<span class="dv">10</span>, <span class="dv">-60</span>, <span class="dv">120</span>),</span>
<span id="cb2-10"><a href="#cb2-10"></a>                           <span class="dt">sex =</span> <span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>),</span>
<span id="cb2-11"><a href="#cb2-11"></a>                           <span class="dt">yob =</span> <span class="kw">sample</span>(<span class="kw">seq</span>(<span class="dv">1930</span>,<span class="dv">2000</span>), <span class="dv">10</span>, <span class="dt">replace =</span> T),</span>
<span id="cb2-12"><a href="#cb2-12"></a>                           <span class="dt">dob =</span> <span class="kw">c</span>(<span class="st">&quot;1997 May 28&quot;</span>,<span class="st">&quot;1987-June-18&quot;</span>, <span class="ot">NA</span>,<span class="st">&quot;2015/July/09&quot;</span>,<span class="st">&quot;1997 May 28&quot;</span>,<span class="st">&quot;1987-June-18&quot;</span>,<span class="ot">NA</span>,<span class="st">&quot;2015/July/09&quot;</span>,<span class="st">&quot;1997 May 28&quot;</span>,<span class="st">&quot;1987-June-18&quot;</span>),</span>
<span id="cb2-13"><a href="#cb2-13"></a>                           <span class="dt">arm =</span> <span class="kw">c</span>(<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>, <span class="st">&quot;Intervention&quot;</span>),<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
</div>
<div id="examples--ipdfilecheck" class="section level2">
<h2>Examples- IPDFileCheck</h2>
<div id="to-check-the-file-exists-and-readable" class="section level4">
<h4>1. To check the file exists and readable</h4>
<p>The function test_file_exist_read tests if the user provided file exists and is readable. Returns 0 for success and errors for failures. Here in the example a directory named “nodir” is generated and tested.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>  thisfile =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;blank.txt&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;IPDFileCheck&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="kw">test_file_exist_read</span>(thisfile)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####2. To check if the column exists The function check_column_exists tests if the column with user specified column name exists in the data. For example in the above simulated data set ‘rctdata’, the column with column name ‘sex’ exists but ‘gender’ do not. Thus the function returns 0 when ‘sex’ is used while returns error when ‘gender’ is used.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">check_column_exists</span>(<span class="st">&quot;sex&quot;</span>,rctdata)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####3. To get the column number if the column name is known The function get_columnno_fornames returns the column number of the column with user specified column name in the data. For example in the above simulated data set ‘rctdata’, the column with column name ‘sex’ exists and it is the 2nd column but ‘gender’ do not. Thus the function returns column number 2 when ‘sex’ is used while returns error when ‘gender’ is used.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">get_columnno_fornames</span>(rctdata,<span class="st">&quot;sex&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>####4. To test column contents ie do they contain specific items in a given list? The function test_column_contents tests if the column contents are from a list provided by the user. The user can also give an optional code that correspond to the non response in the data. In the simulated data shown above the column ‘sex’ contains ‘M’ and ‘F’ as the entries and we can test this as shown below. If the entries are of the given format the function returns 0 else indicates error.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">test_column_contents</span>(rctdata,<span class="st">&quot;sex&quot;</span>,<span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>),<span class="ot">NA</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">test_column_contents</span>(rctdata,<span class="st">&quot;sex&quot;</span>,<span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>))</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####5. To test column names of a data being different from what specified The function test_columnnames tests if the column names in the data are that provided by the user. In the simulated data ‘rctdata’, shown above the column ‘sex’ contains ‘M’ and ‘F’ as the entries and we can test this as shown below. If the entries are of the given format the function returns 0 else indicates error.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">test_columnnames</span>(<span class="kw">c</span>(<span class="st">&quot;age&quot;</span>,<span class="st">&quot;sex&quot;</span>,<span class="st">&quot;dob&quot;</span>,<span class="st">&quot;yob&quot;</span>,<span class="st">&quot;arm&quot;</span>),rctdata)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####6. To check the format of column ‘age’ in data The function test_age tests if the contents of the column ‘age’ is valid. User can provide the name of the column and the optional code of non response. Age should be numeric and with in limits of 0 and 150. In the simulated data ‘rctdata’ the ‘age’ column contents are valid thus returning 0. But with the given dataset ‘rctdata_error’ the age can have negative numbers, such that the function returns an error .</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">test_age</span>(rctdata,<span class="st">&quot;age&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####7. To check the format of column ‘gender’ in data The function test_gender tests if the contents of the gender column is valid. User provides the name of the gender column, how it is coded, and the optional code of non response. In the simulated data ‘rctdata’ the gender column name is ‘sex’ and coded as ‘M’ and ‘F’. Thus the function returns 0. but if the user tells that the gender is coded as “Male” and “Female” the function returns error.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">test_gender</span>(rctdata,<span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>),<span class="st">&quot;sex&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####8. To check the format of column contents -numeric or string The function test_data_numeric tests if the column contents are numeric. User provides the minimum and maximum values the numeric values in the column can have along with an optional code that suggests the non response. If the entries are numeric, format the function returns 0 else indicates error In the ‘rctdata’ above,The age is from 0 to 100, hence it returns 0, while the year of birth column “yob” has values greater than 100, hence returning an error.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">test_data_numeric</span>(<span class="st">&quot;age&quot;</span>,rctdata,<span class="ot">NA</span>,<span class="dv">0</span>,<span class="dv">100</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>The function test_data_numeric_norange tests if the column contents are numeric (but with no ranges provided). User can provide with an optional code that suggests the non response.If the entries are numeric, format the function returns 0 else indicates error As the column “arm” has no numeric data in ‘rctdata’, the function returns error.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">test_data_numeric_norange</span>(<span class="st">&quot;age&quot;</span>,rctdata,<span class="ot">NA</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="kw">test_data_numeric_norange</span>(<span class="st">&quot;yob&quot;</span>,rctdata,<span class="ot">NA</span>)</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>The function test_data_string tests if the column contents are string. User can provide with an optional code that suggests the non response.If the entries are numeric, format the function returns 0 else indicates error As the column “arm” has no numeric data in ‘rctdata’, the function returns 0 and ‘yob’ with numeric data, indicates error.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">test_data_string</span>(rctdata,<span class="st">&quot;arm&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>The function test_data_string_restriction tests if the column contents are string but with given restrictions. User can provide with an optional code that suggests the non response.If the entries are numeric, format the function returns 0 else indicates error. As the column “arm” has no numeric data in ‘rctdata’ and they contain the entries as specified, the function returns 0. But the column ‘sex’ contain “M” and “F” other than “Male” and “Female”.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">test_data_string_restriction</span>(rctdata,<span class="st">&quot;arm&quot;</span>,<span class="ot">NA</span>,<span class="kw">c</span>(<span class="st">&quot;Intervention&quot;</span>,<span class="st">&quot;Control&quot;</span>))</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="kw">test_data_string_restriction</span>(rctdata,<span class="st">&quot;sex&quot;</span>,<span class="ot">NA</span>,<span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>))</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>####9 To return column number if the pattern is contained in the column names of data The function get_colno_pattern_colname returns the column number of the column with column name that contains user specified pattern in the data. For example in the above simulated data set ‘rctdata’, the column with column name ‘dob’ and ‘yob’ contains the pattern ‘ob’ and they are the 4th and 5th columns but ‘gender’ do not exist in the data (to return error).</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">get_colno_pattern_colname</span>(<span class="st">&quot;ob&quot;</span>,<span class="kw">colnames</span>(rctdata))</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co">#&gt; [1] 3 4</span></span></code></pre></div>
<p>####10. To return descriptive statistics, sum, no of observations, mean, mode. median, range, standard deviation and standard error</p>
<p>The function descriptive_stats_col_excl_nrcode returns the descriptive statistics of the column with the user specified column name. This includes mean, standard deviation, median, mode, standard error f the mean, minimum and maximum values to the 95% confidence intervals. If the column contents are not numeric or any error in calculating any of the quantities, the function returns an error. For example, the column ‘age’ is numeric and can return the descriptive statistics, but the column ‘sex’ is not. Hence the function returns an error.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">descriptive_stats_col_excl_nrcode</span>(rctdata, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt;     Sum       Mean     SD       Median   Mode   SE      Minimum Maximum </span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">#&gt; age &quot;635.456&quot; &quot;63.546&quot; &quot;16.547&quot; &quot;61.756&quot; &quot;39.7&quot; &quot;5.233&quot; &quot;39.7&quot;  &quot;94.331&quot;</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">#&gt;     Range           Count LQ                 UQ                </span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="co">#&gt; age &quot;39.7 - 94.331&quot; &quot;10&quot;  &quot;55.6771349940316&quot; &quot;73.4142681896563&quot;</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="co">#&gt;     CIlow              CIhigh             MissingCount</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">#&gt; age &quot;40.5896591933184&quot; &quot;90.9842115955926&quot; &quot;0&quot;</span></span></code></pre></div>
<p>####11. To present the mean and sd of a data set in the form Mean (SD) The function present_mean_sd_rmna_text returns the mean and SD in the form mean (SD). If the column contents are not numeric or any error in calculating, the function returns an error. For example, the column ‘age’ is numeric and can return the mean and SD, but the column ‘sex’ is not. Hence the function returns an error.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">present_mean_sd_rmna_text</span>(rctdata, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co">#&gt; [1] &quot;63.55 (16.55)&quot;</span></span></code></pre></div>
<p>####12. To return a subgroup when certain variable equals the given value while omitting those with NA The function return_subgroup_omitna returns the subgroup using the user defined condition while omitting any non response values. mean and SD in the form mean (SD). If the column contents are not numeric or any error in calculating, the function returns an error. For example, the first command below gives all the female in the data, while the second command retrieves all those in control arm.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">return_subgroup_omitna</span>(rctdata, <span class="st">&quot;sex&quot;</span>,<span class="st">&quot;F&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#&gt;         age sex  yob        dob          arm</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co">#&gt; 2  58.40727   F 1934 16/02/1962 Intervention</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">#&gt; 4  43.65464   F 1933 17/02/1969 Intervention</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co">#&gt; 6  56.68776   F 1950 17/04/1970 Intervention</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co">#&gt; 8  94.33068   F 1945 30/01/1988 Intervention</span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="co">#&gt; 9  65.10474   F 1948 03/02/1990      Control</span></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="co">#&gt; 10 67.33162   F 1983 25/09/1978 Intervention</span></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="kw">return_subgroup_omitna</span>(rctdata, <span class="st">&quot;arm&quot;</span>,<span class="st">&quot;control&quot;</span>)</span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="co">#&gt; [1] age sex yob dob arm</span></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre></div>
<p>####13. To find the number and percentages of categorical data The function represent_categorical_textdata returns the descriptive statistics using number and percentage in a categorical column.User provides the number of categories, how it is coded, and the column name. For example it returns the number and percentage of “M” and “F” in the column “sex” or the number and percentage of “Intervention” and “Control” in the column “arm”</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">represent_categorical_textdata</span>(rctdata, <span class="st">&quot;sex&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt;        M        F </span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">#&gt; &quot;4 (40)&quot; &quot;6 (60)&quot;</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="kw">represent_categorical_textdata</span>(rctdata, <span class="st">&quot;arm&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co">#&gt;      CONTROL INTERVENTION </span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co">#&gt;     &quot;5 (50)&quot;     &quot;5 (50)&quot;</span></span></code></pre></div>
<p>####14. To calculate age from date of birth and year of birth</p>
<p>The function calculate_age_from_dob returns the age calculated from given date of birth. User may provide the column name containing date of birth, format of date of birth and optional non response code.For example, in the ‘rctdata’ shown above, the ‘dob’ column has dates in the format “%d/%m/%y”. The allowed formats for the dates should be in numeric. For example, in the rctdata_error, the dates are in combined numeric and text format, which will return an error.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">calculate_age_from_dob</span>(rctdata,<span class="st">&quot;dob&quot;</span>,<span class="st">&quot;dmy&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co">#&gt;         age sex  yob        dob          arm</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co">#&gt; 1  51.16164   M 1949 07/12/1969      Control</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co">#&gt; 2  58.96712   F 1934 16/02/1962 Intervention</span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co">#&gt; 3  42.42192   M 1956 03/09/1978      Control</span></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="co">#&gt; 4  51.96438   F 1933 17/02/1969 Intervention</span></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="co">#&gt; 5  60.19698   M 1986 25/11/1960      Control</span></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="co">#&gt; 6  50.80274   F 1950 17/04/1970 Intervention</span></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co">#&gt; 7  23.88493   M 1986 18/03/1997      Control</span></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="co">#&gt; 8  33.01370   F 1945 30/01/1988 Intervention</span></span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="co">#&gt; 9  31.00274   F 1948 03/02/1990      Control</span></span>
<span id="cb19-12"><a href="#cb19-12"></a><span class="co">#&gt; 10 42.36164   F 1983 25/09/1978 Intervention</span></span></code></pre></div>
<p>The function calculate_age_from_year returns the age calculated from given year of birth. User may provide the column name containing date of birth and optional non response code.For example, in the ‘rctdata’ shown above, the ‘yob’ column has birth year.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">calculate_age_from_year</span>(rctdata,<span class="st">&quot;yob&quot;</span>,<span class="ot">NA</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co">#&gt;         age sex  yob        dob          arm calc.age.yob</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co">#&gt; 1  39.69983   M 1949 07/12/1969      Control           72</span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co">#&gt; 2  58.40727   F 1934 16/02/1962 Intervention           87</span></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="co">#&gt; 3  55.34026   M 1956 03/09/1978      Control           65</span></span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="co">#&gt; 4  43.65464   F 1933 17/02/1969 Intervention           88</span></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="co">#&gt; 5  75.44182   M 1986 25/11/1960      Control           35</span></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="co">#&gt; 6  56.68776   F 1950 17/04/1970 Intervention           71</span></span>
<span id="cb20-9"><a href="#cb20-9"></a><span class="co">#&gt; 7  79.45749   M 1986 18/03/1997      Control           35</span></span>
<span id="cb20-10"><a href="#cb20-10"></a><span class="co">#&gt; 8  94.33068   F 1945 30/01/1988 Intervention           76</span></span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="co">#&gt; 9  65.10474   F 1948 03/02/1990      Control           73</span></span>
<span id="cb20-12"><a href="#cb20-12"></a><span class="co">#&gt; 10 67.33162   F 1983 25/09/1978 Intervention           38</span></span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
